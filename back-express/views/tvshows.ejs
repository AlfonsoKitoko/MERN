<%- include("partials/header") %>
  <div class="glass-container">
    <div class="card">
      <h1>ðŸŽ¬ CatÃ¡logo de Series</h1>
      <hr>

      <div class="tvshows-grid">
        <% tvshows.forEach(item => { 
             const show = item.show; %>
          <div class="show-card">
            <div class="show-image">
              <% if (show.image) { %>
                <img src="<%= show.image.medium %>" alt="<%= show.name %>">
              <% } else { %>
                <img src="https://via.placeholder.com/260x340?text=Sin+imagen" alt="No image">
              <% } %>
            </div>

            <div class="show-content">
              <div class="show-title"><%= show.name %></div>
              <div class="show-genres">
                <%= show.genres && show.genres.length ? show.genres.join(', ') : 'Sin gÃ©nero' %>
              </div>

              <div class="show-meta">
                <span><i class="fa-solid fa-globe"></i> <%= show.language || '-' %></span>
                <span><i class="fa-solid fa-star"></i> <%= show.rating?.average || 'N/A' %></span>
              </div>

              <div class="show-meta">
                <span><i class="fa-solid fa-hourglass"></i> <%= show.status %></span>
                <span><i class="fa-solid fa-clock"></i> <%= show.averageRuntime ? show.averageRuntime + ' min' : '-' %></span>
              </div>

              <div class="show-summary">
                <%- show.summary ? show.summary.replace(/<[^>]+>/g, '') : 'Sin descripciÃ³n disponible.' %>
              </div>

              <div class="show-link">
                <a href="<%= show.url %>" target="_blank">
                  Ver en TVMaze <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
              </div>
            </div>
          </div>
        <% }) %>
      </div>

    </div>
  </div>
<%- include("partials/footer") %>